---
title: Crystal 1.3.0 is released!
version: 1.3.0
summary:
thumbnail: +
author:
---

We are delivering a new release with several bugfixes and improvements. Below we list the most important or interesting changes, without mentioning the several bugfixes. For more details visit the [changelog](https://github.com/crystal-lang/crystal/releases/tag/1.3.0). Breaking changes are marked with ⚠️.

Pre-built packages are available on [Github Releases](https://github.com/crystal-lang/crystal/releases/tag/1.2.2) and our official distribution channels.
See [crystal-lang.org/install](https://crystal-lang.org/install/) for installation instructions.

## Stats

In this release we included [XXX PRs since the 1.2.2 release](https://github.com/crystal-lang/crystal/pulls?q=is%3Apr+milestone%3A1.3.0) by XXX contributors. We thank all the effort put into improving the language and its stdlib! ❤️

## Interpreter

## Windows Support

## Unicode

## Syscalls

## Multi-Assign

Multiple assignments got improved in various ways. First, it's possible to use a splat target in a multi-assignment ([#10410](https://github.com/crystal-lang/crystal/pull/10410)):

<div class="code_section">{% highlight crystal %}
# Splat in multi-assign with array
first, *rest, last = [1, 2, 3, 4, 5]
first # => 1
rest # => [2, 3, 4]
last # => 5
{% endhighlight %}</div>

<div class="code_section">{% highlight crystal %}
# Splat in multi-assign with tuple
*rest, last = {"This", 15, 4, "tuple", true}
rest # => {"This", 15, 4, "tuple"}
last # => true
{% endhighlight %}</div>

To take the first and last element, it is possible to use the _underscore splat_ notation:
<div class="code_section">{% highlight crystal %}
# Ignoring the elements in the middle
first, *_, last = {"This", 15, 4, "tuple", true}
first # => "This"
last # => true
{% endhighlight %}</div>

Second, there's an optional preview feature to detect unbalanced multi-assignments ([#11145](https://github.com/crystal-lang/crystal/pull/11145)). It can be enabled with the compiler flag `-Dstrict_multi_assign`.
<div class="code_section">{% highlight crystal %}
a, b, c = {1, 2} # (As in previous versions) Error: index out of bounds for Tuple(Int32, Int32) (2 not in -2..1)
a, b = {1, 2, 3} # Error: cannot assign Tuple(Int32, Int32, Int32) to 2 targets
{% endhighlight %}</div>

Note that the first example fails with a similar error in 1.2.2 (this error is [expected to change](https://github.com/crystal-lang/crystal/issues/11695) in the near future).

To ignore the extra items in strict mode you can use the underscore splat notation. This can be used to port existing code to work with the `strict_multi_assign` flag.
<div class="code_section">{% highlight crystal %}
a, b, *_ = {1, 2, 3} # Same as a, b = {1, 2, 3} without the flag
{% endhighlight %}</div>

⚠️ This second improvement is a breaking change; therefore it's not enabled by default. We encourage using it to detect possible errors in your code. This setting will likely be the default in 2.0. An additional restriction guarded by that flag is that if the right-hand side has a unique element, it must be of type `Indexable` or `Enumerable` ([#11545](https://github.com/crystal-lang/crystal/pull/11545)).

## Number Autocast

## 128-bit Literals

The parser has been improved to understand number literals in the full range or 128-bit integers ([#11571](https://github.com/crystal-lang/crystal/pull/11571)).
Until now, 128-bit literals had been supported only within the limits of 64-bit values.

<div class="code_section">{% highlight crystal %}
1_i128                                       # Works in 1.2.2 and 1.3.0
170141183460469231731687303715884105727_i128 # Fails in 1.2.2, works in 1.3.0
{% endhighlight %}</div>

In order to get there, we needed to implement some arithmetic primitives for all platforms, and refactor the parsing of number literals ([#11211](https://github.com/crystal-lang/crystal/pull/11211)).
The latter also cleaned up a couple of edge cases. Some examples are highlighted here:

<div class="code_section">{% highlight crystal %}
1_.1   # Error: unexpected '_' in number
-0u64  # Error: Invalid negative value -0 for UInt64
-0_u64 # Error: Invalid negative value -0 for UInt64
1__2   # Error: consecutive underscores in numbers aren't allowed
0x_2   # Error: unexpected '_' in number
0_12   # Error: octal constants should be prefixed with 0o
0e40   # => 0.0
0x     # Error: numeric literal without digits
{% endhighlight %}</div>

## Other notable changes

- ⚠️ Methods that enumerate on a subrange now always use `start` as parameter name for the begin of the subrange ([#11350](https://github.com/crystal-lang/crystal/pull/11350)). This was standardized from several different forms, which keep working as deprecated overloads until the next major release.
- ⚠️ More refactorings happend to `Indexable::Mutable#fill`'s overloads ([#11368](https://github.com/crystal-lang/crystal/pull/11368)). Again, existing code continues to work with deprecated overloads.
- ⚠️ `Regex#name_table` returns `Hash(Int32, String)` instead of `Hash(Int16, String)` ([#11539](https://github.com/crystal-lang/crystal/pull/11539)). Noticable effects are pretty limited due to number autocasting.

---
We have been able to do all of this thanks to the continued support of [84codes](https://www.84codes.com/), [Nikola Motor Company](https://nikolamotor.com/) and every other [sponsor](/sponsors). To maintain and increase the development pace, donations and sponsorships are essential. [OpenCollective](https://opencollective.com/crystal-lang) is available for that. Reach out to [crystal@manas.tech](mailto:crystal@manas.tech) if you’d like to become a direct sponsor or find other ways to support Crystal. We thank you in advance!
