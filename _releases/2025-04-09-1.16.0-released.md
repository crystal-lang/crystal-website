---
title: Crystal 1.16.0 is released!
version: 1.16.0
date: 2025-04-09
author: straight-shoota
---

We are announcing a new Crystal release 1.16.0 with several new features and bug fixes.

Pre-built packages are available on [GitHub Releases](https://github.com/crystal-lang/crystal/releases/tag/1.16.0)
and our official distribution channels.
See [crystal-lang.org/install](https://crystal-lang.org/install/) for
installation instructions.

## Stats

This release includes [XX changes since 1.15.1](https://github.com/crystal-lang/crystal/pulls?q=is%3Apr+milestone%3A1.16.0)
by XX contributors.  We thank all the contributors for all the effort put into
improving the language! ❤️

## Changes

Below we list the most remarkable changes in the language, compiler and stdlib.
For more details, visit the [full changelog](https://github.com/crystal-lang/crystal/releases/tag/1.16.0).

### Breaking

- The suffixes `?` and `!` for parameter names of defs, macros and blocks are deprecated.  This aligns them with other variable names.  They produce a warning now ([#12197]).
  _thanks, [@potomak]_

- [`Enumerable#sum`] and [`#product`][`Enumerable#product`] no longer resolve an implicit return type when the element type is a union. This can't work reliably.
  Instead, you need to specify the sum/product type explicitly by the `initial` parameter with a value of the intended return type. ([#15314])
  _thanks, [@rvprasad]_

- [`HTTP::Request`] was fixed to correctly parse HTTP resource strings that looks like an absolute URL.
  This may break code that relied on the previous, buggy behaviour ([#15499]).
  _thanks, [@straight-shoota]_

- The compiler won't set the environment variable `$CRYSTAL` when running a process for a subcommand.
  This variable was only in introduced in [#14953] in 1.14.0.
  We introduce a more flexible alternative `$CRYSTAL_EXEC_PATH`, and the equivalent to `$CRYSTAL` is now `$CRYSTAL_EXEC_PATH/crystal`. The compiler also prepends its path to `$PATH` ([#15186]).
  _thanks, [@straight-shoota]_

[#12197]: https://github.com/crystal-lang/crystal/issues/12197
[#15314]: https://github.com/crystal-lang/crystal/issues/15314
[#15499]: https://github.com/crystal-lang/crystal/issues/15499
[#14953]: https://github.com/crystal-lang/crystal/issues/14953
[#15186]: https://github.com/crystal-lang/crystal/issues/15186

### Execution Contexts

[RFC 0002](https://github.com/crystal-lang/rfcs/pull/2)

### Language

- [`Slice.literal`] can infer the element type ([#15529]) and works in the interpreter ([#15531]).

_thanks, [@HertzDevil]_

- `sizeof` and `alignof` work inside macros for stable types ([#15497]).

_thanks, [@HertzDevil]_

### Standard library

- Several bug fixes and performance improvements to `Path` handling, especially for Windows paths.

_thanks, [@HertzDevil]_

- New methods `Indexable#find` and `#find!` ([#15552]).

_thanks, [@punteek]_

- New methods `EventLoop#wait_readable`, `#wait_writable` ([#15376]).

_thanks, [@ysbaddaden]_

### Compiler

- The compiler CLI understand the long option `--output` everywhere, instead of just the short variant `-o` ([#15519]). It also accepts a directory name as value, in which case the file name is derived from the source filename ([#15471]).
_thanks, [@HertzDevil], [@straight-shoota]_

The compiler respects the environment variable `$MACOSX_DEPLOYMENT_TARGET`, which should
get rid of annoying linker warnings when target versions mismatched ([#15603])

_thanks, [@HertzDevil]_

### Compiler tools

The doc generator can optionally include `private` and `protected` objects as well as objects in lib bindings (`lib`, `fun`, `union`, `cstruct`, `external`, and `type`), as proposed in [RFC 0011](https://github.com/crystal-lang/rfcs/blob/main/text/0011-extending-api-docs.md). The `:showdoc` directive enables that.

```crystal
# :showdoc:
# Documentation for LibFoo
lib Foo
  # Documentation for function foo
  fun foo : Void
end

# :showdow:
# Documentation for method bar
private def bar
end
```

_thanks [@nobodywasishere]_

### Dependency Updates

- Support for LLVM 20 ([#15412])

_thanks, [@HertzDevil]_

### Deprecations

- [`LLVM::ABI`] (and [`LLVM::TargetMachine#abi`]) is deprecated without replacement ([#15227]).

---

> **THANKS:**
> We have been able to do all of this thanks to the continued support of [84codes] and every other [sponsor](/sponsors).
> To maintain and increase the development pace, donations and sponsorships are
> essential.  [OpenCollective](https://opencollective.com/crystal-lang) is
> available for that.
>
> Reach out to [crystal@manas.tech](mailto:crystal@manas.tech)
> if you’d like to become a direct sponsor or find other ways to support Crystal.
> We thank you in advance!

[84codes]: https://www.84codes.com/
[`LLVM::ABI`]: https://crystal-lang.org/api/1.16.0/LLVM/ABI.html
[`Enumerable#sum`]: https://crystal-lang.org/api/1.16.0/Enumerable.html#sum-instance-method
[`LLVM::TargetMachine#abi`]: https://crystal-lang.org/api/1.16.0/LLVM/TargetMachine.html#abi-instance-method
[`Enumerable#product`]: https://crystal-lang.org/api/1.16.0/Enumerable.html#product-instance-method
[`HTTP::Request`]: https://crystal-lang.org/api/1.16.0/HTTP/Request.html#-instance-method
