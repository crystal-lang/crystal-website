---
title: Crystal 1.2.0 is released!
summary: Bugfixes
thumbnail: +
author: beta-ziliani
release_notes: true
---

We are delivering a new release with several bugfixes and improvements. Below we list the most important or interesting changes, as usual, without mentioning the several bugfixes. For details visit the [release's notes](https://github.com/crystal-lang/crystal/releases/tag/1.2.0).

## Stats

In this release we included [174 PRs since the 1.1.1 release](https://github.com/crystal-lang/crystal/pulls?q=is%3Apr+milestone%3A1.2.0) by 32 contributors. We thank all the effort put into improving the language and its stdlib! ❤️

## Platform support

Windows improvements https://github.com/crystal-lang/crystal/pull/11205, https://github.com/crystal-lang/crystal/pull/11137 https://github.com/crystal-lang/crystal/pull/10784 https://github.com/crystal-lang/crystal/pull/10605

ARM64 and Windows bugfix https://github.com/crystal-lang/crystal/pull/11189

LLVM 12 https://github.com/crystal-lang/crystal/pull/10873

## Language changes

Assignment of virual generic classes (example?) https://github.com/crystal-lang/crystal/pull/11250

Allow union types to be unbound https://github.com/crystal-lang/crystal/pull/11166

Substitute unbound type parameters in virtual metaclass types https://github.com/crystal-lang/crystal/pull/11067

Fix path lookup when ancestor finds type with same name as current scope https://github.com/crystal-lang/crystal/pull/10901

Fixes of compile-time operations https://github.com/crystal-lang/crystal/pull/11101

Removed ThinLTO support  https://github.com/crystal-lang/crystal/pull/11194

Allow constants and instance / class variables as receivers for setter proc pointers https://github.com/crystal-lang/crystal/pull/10741

Splat values correctly inside return/break/next statements https://github.com/crystal-lang/crystal/pull/11051

## Macros

Underscore in for vars https://github.com/crystal-lang/crystal/pull/11141

Make #is_a? in macros respect the AST node hierarchy https://github.com/crystal-lang/crystal/pull/11062

Add file_exists? macro method https://github.com/crystal-lang/crystal/pull/10540

## Stdlib

We are continuing the trend started in the 1.1.0 version to help get better error messages and documentation: several methods were annotated with expected types. Adding typing annotations might break existing code in specific scenarios so, if this happens to you, please let us now.

### Numeric

Support for 128 bits ints https://github.com/crystal-lang/crystal/pull/11206/ https://github.com/crystal-lang/crystal/pull/11245

Improve performance of int parsing https://github.com/crystal-lang/crystal/pull/11093

Add precision parameter to Int#to_s https://github.com/crystal-lang/crystal/pull/10926

Add #next_float and #prev_float to Float32 and Float64 https://github.com/crystal-lang/crystal/pull/10908

add negative exponential support to BigDecimal https://github.com/crystal-lang/crystal/pull/10892

Integer sqrt https://github.com/crystal-lang/crystal/pull/10549

### Collections

Sorting methods: https://github.com/crystal-lang/crystal/pull/11254 https://github.com/crystal-lang/crystal/pull/11029 https://github.com/crystal-lang/crystal/pull/10163

Optimized rotate!: https://github.com/crystal-lang/crystal/pull/11198

Allow Enumerable(T)#reduce's return type to differ from T: https://github.com/crystal-lang/crystal/pull/11065

Add the Indexable::Mutable(T) module: https://github.com/crystal-lang/crystal/pull/11059

Add Slice#fill https://github.com/crystal-lang/crystal/pull/10924

Implement Enumerable#tally_by https://github.com/crystal-lang/crystal/pull/10922

Add range overloads for BitArray#toggle https://github.com/crystal-lang/crystal/pull/10743

Make Array#transpose, Enumerable#reject, Enumerable#to_h work with tuples https://github.com/crystal-lang/crystal/pull/10445

Breaking: Move Array#product to Indexable#cartesian_product https://github.com/crystal-lang/crystal/pull/10013

### Crypto

### Files

File.match accepts Path https://github.com/crystal-lang/crystal/pull/11075

breaking: Rename IO#write_utf8 to #write_string https://github.com/crystal-lang/crystal/pull/11051

Make FileUtils.mv work across filesystems https://github.com/crystal-lang/crystal/pull/10783

### Networking

URI.encode_path https://github.com/crystal-lang/crystal/pull/11248

Support basic auth from URI in websockets https://github.com/crystal-lang/crystal/pull/10854

Proper handling of max-age and expires for cookies https://github.com/crystal-lang/crystal/pull/10564

### Text

Unicode 14.0.0 https://github.com/crystal-lang/crystal/pull/11215

Disallow non-UTF-8 encoding settings for String::Builder https://github.com/crystal-lang/crystal/pull/11025/files

Breaking: Deprecate String#unsafe_byte_at https://github.com/crystal-lang/crystal/pull/10559

### Runtime

### Concurrency

Performance https://github.com/crystal-lang/crystal/pull/11156

### Serialization

XML namespace improvements https://github.com/crystal-lang/crystal/pull/11072/files

Add JSON/YAML serialization to URI https://github.com/crystal-lang/crystal/pull/10404

## Tools

### Docs generator

markd https://github.com/crystal-lang/crystal/pull/11040

## Infrastructure

Add make install https://github.com/crystal-lang/crystal/pull/10878


We have been able to do all of this thanks to the continued support of [84codes](https://www.84codes.com/), [Nikola Motor Company](https://nikolamotor.com/) and every other [sponsor](/sponsors). To maintain and increase the development pace, donations and sponsorships are essential. [OpenCollective](https://opencollective.com/crystal-lang) is available for that. Reach out to [crystal@manas.tech](mailto:crystal@manas.tech) if you’d like to become a direct sponsor or find other ways to support Crystal. We thank you in advance!
