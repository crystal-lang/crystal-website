---
layout: base
# Layout for blog posts including post header and body
# Doesn't use the page layout because posts have a special header
---
<main>
  <article>

    {% include post_header.html %}

    <div class="grid sidebar">

      <aside>
        <p>Share</p>

        {% assign share_url = site.url | append: page.url | cgi_escape %}
        <a class="hex shadow uq" href="https://twitter.com/intent/tweet?url={{ share_url }}&text={{ page.title | cgi_escape }}&via=CrystalLanguage" target="_blank">
          <span class="twitter ico"></span>
        </a>
        <a class="hex shadow uq" href="https://www.facebook.com/sharer/sharer.php?u={{ share_url }}" target="_blank">
          <span class="facebook ico"></span>
        </a>
        <a class="hex shadow uq" href="https://www.reddit.com/submit?url={{ share_url }}" target="_blank">
          <span class="reddit ico"></span>
        </a>
        <a class="hex shadow uq" href="#" data-copy="{{ share_url }}" target="_blank">
          <span class="chain ico"></span>
        </a>
      </aside>

      <div class="content">
      {% if page.class == "release" %}
        {% include release_info.html %}
      {% endif %}

      {% if page.excerpt %}
      <div class="excerpt">{{ page.excerpt }}</div>
      {% endif %}

      {{ content }}


      {% if page.category == "success_stories" %}
      {% comment %}The success stories list is made in md to make sure the style is consisten with the post. Not sure if that's actually desired. {% endcomment %}
      {{ "### Keep reading:" | markdownify }}
        {% for story in site.categories.success_stories %}
          {% if story != page %}
            {% capture story_url %}[ {{story.title}} ]( {{story.url}} ){% endcapture %}
            {{ "  - " | append: story_url | markdownify }}
          {% endif %}
        {% endfor %}
      {% endif %}

      </div>
    </div>

    <section class="pages grid x2">

      {% if page.next.url %}
      <a class="next" href="{{page.next.url}}">{{page.next.title}}</a>
      {% else %}
      <span></span>
      {% endif %}

      {% if page.previous.url %}
      <a class="prev" href="{{page.previous.url}}">{{page.previous.title}}</a>
      {% else %}
      <span></span>
      {% endif %}

    </section>

    <footer id='disqus_thread'>
      {{ content }}
    </footer>

  </article>
  <script>
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'crystal-lang'; // required: replace example with your forum shortname
    var disqus_identifier = '{{ page.id }}';
    var disqus_title = {{ page.title | jsonify }};
    var disqus_url = "http://crystal-lang.org/{{ page.url }}";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
  </noscript>
</main>
